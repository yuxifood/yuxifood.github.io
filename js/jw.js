"use strict";var IS_DEV=location.host.indexOf("127.")===0||location.host.indexOf("localhost")===0||location.host.indexOf("192.")===0,jw={_API_SERVER:IS_DEV?"http://newwww.juewei.cn/":"/",_IMG_SERVER:IS_DEV?"http://imgcdnjwd.juewei.com/":"http://imgcdnjwd.juewei.com/"};(function(a){var b={};a.on=function(e,d){var f=b[e];f||(f=b[e]=[]);f.push(d)};a.off=function(f,e){var g=b[f],d;if(g){if(e){(d=g.indexOf(e))===-1||g.splice(d,1)}else{g.length=0}}};a.emit=function(e){var f=b[e],d=arguments;f&&f.forEach(function(g){g.apply(null,d)})};if(typeof document.documentElement.classList==="undefined"){var c={contains:function(d){return new RegExp("\\b"+d+"\\b").test(this.target.className)},add:function(d){if(!this.contains(d)){this.target.className+=" "+d}},remove:function(d){this.target.className=this.target.className.replace(new RegExp("\\b"+d+"\\b")," ")},toggle:function(d){this.contains(d)?this.remove(d):this.add(d)}};Object.defineProperty(Element.prototype,"classList",{get:function(){c.target=this;return c}})}})(jw);Function.prototype.method=function(a,b){return this.prototype[a]=b,this};if(typeof document.body.remove==="undefined"){HTMLElement.prototype.remove=function(){this.parentNode.removeChild(this)}}Date.format=function(j,i){var h={y:"getFullYear",M:"getMonth2",d:"getDate",h:"getHours",m:"getMinutes",s:"getSeconds"},b,e=/y+|M+|d+|h+|m+|s+/g,c=function(d){var f=d.length;return f<2?b[h[d[0]]]():String(b[h[d[0]]]()+10000).slice(-f)},a=function(){return this.getMonth()+1},g=function(k,f){b=f instanceof Date?f:new Date(f);b.getMonth2=a;return k.replace(e,c)};this.format=g;return g(j,i)};jw.getCss=function(c){var b=document,a=b.createElement("link");a.rel="stylesheet";a.href=c;b.head.appendChild(a)};jw.setCss=function(a){var c=document,b=c.createElement("style");b.type="text/css";b.innerHTML=a;c.head.appendChild(b)};jw.getScript=function(d,a){var c=document,b=c.createElement("script");b.asyn=true;b.onload=a;b.src=d;c.head.appendChild(b)};jw.getComponent=function(i){var e=this.components,h=i.key,g;if(!e.hasOwnProperty(h)){return}g=e[h];if(g.status===1){return}if(!g.status){g.status=1;i.beforeSend&&i.beforeSend(g);var f=g.css,a="/common/"+h+".html",c,d=function(k){var j="components."+h;g.status=2;g.html=k;i.callback&&i.callback(g);if(g.js){jw.getScript(g.js,i.complete||null)}else{i.complate&&i.complete()}},b=function(){g.status=0;i.callback&&i.callback(g)};if(f){c=function(l,n){var k=jw.__cssCache,m,j=[$.get(l)];if(typeof n==="string"){if(!k.hasOwnProperty[n]){k[n]=1;j[1]=$.get(n)}}else{n=n.slice();m=n.length;while(m--){if(!k.hasOwnProperty(n[m])){k[n[m]]=1;j.push($.get(n[m]))}}}return j};$.when.apply(null,c(a,f)).done(function(l){var k=Array.prototype.slice.call(arguments,1),m=k.length,n="";while(m--){n+=k[m][0]}jw.setCss(n);d(l[0])}).fail(b)}else{$.get({url:a}).done(d).fail(b)}}else{if(g.status===2){i.callback&&i.callback(g);i.complate&&i.complete()}}};jw.debounce=function(b,a){var d=0,c;return function(h){var g,f;if(h.timeStamp-d>a){clearTimeout(c);d=h.timeStamp-a/2;b.apply(this,arguments)}else{g=this;f=arguments;c=setTimeout(function(){b.apply(g,f)},a)}}};jw.showDialog=function(b){var a,d=function(f){f.stopPropagation()};function c(e){if(a){a.style.display="none"}a=e;e.style.display="block";e.addEventListener("click",d,false)}document.addEventListener("click",function(f){if(a&&f.target!==a){f.preventDefault();a.style.display="none";a=null}});this.showDialog=c;c(b)};jw.ready=function(a,c,b){var d=location.pathname;b?c?d.indexOf(a)===0&&b():a===d&&b():a===d&&c();return this};jw.template=function(c,d,g){var a=this._template_cache||(this._template_cache={});if(!g&&a[c]){return a[c](d)}var i=g?c:$(c).html(),f=!!String.raw,h,e=f?"`":"'",b="var html=";b+=e;i=i.split(e).join("\\"+e);if(!f){i=i.split("\n").join(" ").replace(/\$\{([^\}]+?)\}/g,function(k,j){var l=e;l+="+(";l+=j.split("\\'").join("'");l+=")+";l+=e;return l})}i=i.split("<%").join(e+";").split("%>").join("html+="+e);b+=i;b+=e;b+=";return html;";h=new Function("data",b);if(!g){a[c]=h}return h(d)};jw.tip=function(a){var b=document,h=b.createElement("span");h.className="tip";function f(c){h.classList.remove("show");h.innerHTML=c;h.offsetHeight;h.classList.add("show")}b.body.appendChild(h);this.tip=f;f(a)};jw.upLoad=function(a){a.size=a.size||1024*1204;a.el.find("input").on("change",function(){var d=this.files.length,h,c,e,b;if(d){c=this.parentNode;h=this.files[0];e=this;b=this.getAttribute("accept");if(b.indexOf(h.type)===-1){a.callback&&a.callback.call(c,1);return}if(h.size>a.size){this.value="";c.removeAttribute("style");a.callback&&a.callback.call(c,2,a.size);return}var g=new FormData();g.append("img_name",this.getAttribute("data-key"));g.append(a.name,h);jQuery.ajax({url:jw._API_SERVER+"apply/UploadImg",type:"POST",data:g,processData:false,contentType:false,complete:function(k,f){var j;if(f==="success"){var i=JSON.parse(k.responseText);if(!i.code){c.style.backgroundImage="url("+URL.createObjectURL(h)+")";a.callback&&a.callback.call(c,200,i.data);return}j=i.msg}e.value="";a.callback&&a.callback.call(c,500,j)}});a.callback&&a.callback.call(c,100)}else{c.removeAttribute("style");a.callback&&a.callback.call(c,0)}})};(function(a){function b(c){function d(e){this._obj=e.data;console.log(e.el);this._ctx=typeof e.el==="string"?document.querySelector(e.el):e.el;this._cb=e.callback;this._parse(e.data);e.data.__bind__=this;this._ctx.addEventListener("change",this,false);e.isRender&&this._init(this._values,e.rendered)}d.method("q",function(f,e){return e.querySelectorAll(f)}).method("_init",function(j,e){var h=this.q("[data-bind]",this._ctx),f,g=h.length;while(g--){f=h[g].getAttribute("data-bind");this._render(h[g],j[f]||"")}e&&e(j)}).method("handleEvent",function(g){var f=g.target.getAttribute("data-bind");f&&this.emit(g.target,f,this._values[f]=g.target.value)}).method("emit",function(h,g,j){var f=this.q('[data-bind="'+g+'"]',this._ctx),e=f.length;while(e--){f[e]===h||this._render(f[e],j)}this._cb&&this._cb(this._obj,g,j)}).method("_render",function(e,f){e["value" in e&&e.tagName!=="BUTTON"?"value":"innerHTML"]=f}).method("_get_set",function(e,f){return{get:function(){return e[f]},set:function(g){if(g===e[f]){return}e[f]=g;this.__bind__.emit(null,f,g)}}}).method("_parse",function(k){var e={},j=Object.keys(k),g=0,h=j.length,f,l=Object.defineProperty;for(;g<h;g++){f=j[g];e[f]=k[f];l(k,f,this._get_set(e,f))}this._values=e});b=d;return new d(c)}a.dblbind=function(c){new b(c)};a.arraybind=function(d){function c(f){this._el=typeof f.el==="string"?document.querySelector(f.el):f.el;this.data=f.data;this.callback=f.callback;this.init()}c.method("init",function(){var g=this._el,f=document.createDocumentFragment(),j=g.firstElementChild.rowIndex,r=g.removeChild(g.firstElementChild),n=r.tagName==="LI",o,h,m,l=this.data,k=0,q=l.length,p=this.renderItem;this._item=r;this._isLi=n;this._oIndex=typeof j==="number"?j:0;for(;k<q;k++){o=p(r.cloneNode(true),l,k,n);f.appendChild(o)}g.appendChild(f);g.addEventListener("DOMNodeRemoved",this,false);g.addEventListener("change",this,false);this.rendered&&this.rendered.call(this,l)}).method("renderItem",function(m,l,f,n){var j,k,h,g;n&&(m.rowIndex=f);j=m.querySelectorAll("[data-item]");h=j.length;while(h--){k=j[h];g=k.getAttribute("data-item");k["value" in k&&k.tagName!=="BUTTON"?"value":"innerHTML"]=g?l[f][g]:l[f]}return m}).method("render",function(j){var f=this._el,m=f.children,q,g=this.data,h=0,p=g.length,n=typeof j!=="number",k=this._isLi,o=this.renderItem,l=this._item;if(n){for(;h<p;h++){q=m[h];if(q){o(q,g,h,k)}else{q=l.cloneNode(true);f.appendChild(o(q,g,h,k))}}p=m.length;while(--p>=h){f.removeChild(m[p])}}else{q=m[j];if(q){o(q,g,j,k)}else{q=l.cloneNode(true);f.appendChild(o(q,g,j,k))}}}).method("handleEvent",function(g){var f=g.type;this[f]&&this[f](g.target)}).method("change",function(h){var k=this.getItemDom(h),j,f,g,i;if(k){j=this.data;f=k.rowIndex-this._oIndex;g=h.getAttribute("data-item");i=h.value;g?j[f][g]=i:j[f]=i;this.callback&&this.callback.call(this,j,f,g,i)}}).method("DOMNodeRemoved",function(j){var f=this._isLi?"LI":"TR",h,k,g;if(j.tagName===f){h=j.rowIndex-this._oIndex;this.data.splice(h,1);if(this._isLi){g=this._el.children;k=g.length-1;while(k>h){g[k].rowIndex=--k}}}}).method("getItemDom",function(j){var h=this._el,k=j,g=10,f=this._isLi?"LI":"TR";while(k!==h&&g--){if(k.tagName===f){return k}k=k.parentNode}return null});function e(f){return new c(f)}e(d);this.arraybind=e}})(jw);function JwBanner(a){this.el=typeof a.$el==="string"?$(a.$el):a.$el;this.hasPosition=a.hasPosition;this.hasArrow=a.hasArrow;this.isAutoPlay=a.isAutoPlay;this.callback=a.callback;this.timeout=a.timeout||4000;this.init()}JwBanner.method("init",function(){var d=this.el.children().children(),a=d.length,f,b,e,c;if(a>0){this.lnks=d;this.lazyimg(0);d.eq(0).addClass("visible")}if(a<2){return}this.lazyimg(1);this.len=a;this.step=0;f=document;b=f.createDocumentFragment();if(this.hasPosition){c=a;e=f.createElement("span");e.className="banner-position";while(c--){e.appendChild(f.createElement("i"))._index=a-c-1}e.firstChild.className="on";this.position=e;b.appendChild(e);e.addEventListener("click",this,false)}if(this.hasArrow){e=f.createElement("ins");e.className="banner-left";e.appendChild(f.createElement("i")).className="banner-ml";b.appendChild(e);e.addEventListener("click",this,false);e=e.cloneNode(true);e.className="banner-right";e.firstChild.className="banner-mr";b.appendChild(e);e.addEventListener("click",this,false)}this.el.append(b);e=this.el[0];e.addEventListener("mouseenter",this,false);e.addEventListener("mouseleave",this,false);this.isAutoPlay&&this.play()}).method("lazyimg",function(b){var c=this.lnks,d=c.eq(b).data("img"),a;if(!d){return}a=new Image();a.onload=function(){c.eq(b).removeClass("jw-loading").removeAttr("data-img").css("background-image","url('"+this.src+"')")};a.src=d}).method("handleEvent",function(c){switch(c.type){case"mouseenter":this._isEnter=true;clearTimeout(this._timer);break;case"mouseleave":this._isEnter=false;this.isAutoPlay&&this.play();break;case"click":var b=c.target,a=b.tagName,d;if(a==="INS"){location.href=this.lnks.eq(this.step).attr("href")}else{if(a==="I"){if(c.currentTarget===this.position){this.step=b._index;this.go(0)}else{d=b.className;if(d==="banner-ml"){this.step--;this.go(0)}else{if(d==="banner-mr"){this.step++;this.go(0)}}}}}break}}).method("play",function(){this._timer=setTimeout(this.loop(),this.timeout)}).method("loop",function(){return this._loop||(this._loop=(function(){this.go(1)}).bind(this))}).method("go",function(a){var b=this.len,d,c=this.step;clearTimeout(this._timer);this.step=c=(c+a+b)%b;this.lazyimg(c);c+1<b&&this.lazyimg(c+1);this.lnks.removeClass("visible").eq(c).addClass("visible");if(this.hasPosition){d=this.position.children;while(b--){d[b].className=b===c?"on":""}}this.callback&&this.callback.call(this,a);this._isEnter||this.isAutoPlay&&this.play()});jw.on("login",function(){if(jw._isLogin){return}jw._isLogin=true});jw.on("logout",function(){if(!jw._isLogin){return}jw._isLogin=false});(function(c){var e=document.head.querySelectorAll("link"),d=e.length,b={},a=location.origin;while(d--){b[e[d].href.replace(a,"")]=1}c.__cssCache=b})(jw);jw.components={login:{css:["/css/icons.css","/css/login.css"],js:"/js/login.js"}};jw.showLoginBox=function(){if(this.showLoginBox.isLoading){return}this.showLoginBox.isLoading=true;this.getComponent({key:"login",callback:function(a){var b=document.createElement("div");b.className="cover";b.innerHTML=a.html;document.body.appendChild(b);jw.__loginBox=b;b.addEventListener("click",function(c){if(c.target===this){this.classList.add("dn")}},false);jw.showLoginBox=function(){this.__loginBox.classList.toggle("dn")}},complete:function(){jw.emit("events.login")}})};jw.queryURLParameter=function(e){var d={},c,a,b;c=e.split("&");a=c.length;while(a--){b=c[a].split("=");d[b[0]]=decodeURIComponent(b[1])}return d};jw.share=function(c){var e=this,a=$(c.querySelector),b={qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={{url}}&title={{title}}&summary={{desc}}&pics={{image}}&desc=&site=",tencent:"http://share.v.t.qq.com/index.php?c=share&a=index&title={{title}}&url={{url}}&pic={{image}}",weibo:"http://service.weibo.com/share/share.php?url={{url}}&title={{title}}&pic={{image}}",tieba:"http://tieba.baidu.com/f/commit/share/openShareApi?url={{url}}&title={{title}}&desc={{desc}}&comment=",wechat:"",douban:"http://shuo.douban.com/!service/share?href={{url}}&name={{title}}&text={{desc}}&image={{image}}",renren:"http://widget.renren.com/dialog/share?resourceurl={{url}}&title={{title}}&pic={{image}}&desc={{desc}}"},d=function(j){var g=j.target,i=g.getAttribute("data-cmd"),h,f;j.preventDefault();if(i==="wechat"){if(g._isReady){return}g._isReady=true;new QRCode(g.querySelector(".wechat-qrcode"),{text:c.url,width:180,height:180});return}if(i&&b[i]){h=b[i];for(f in c){h=h.replace("{{"+f+"}}",c[f])}window.open(h)}};c.url=c.url||document.URL;c.title=encodeURIComponent(c.title||document.title);c.desc=encodeURIComponent(c.desc||"");c.image=encodeURIComponent(c.image||"");a.find("[data-cmd='wechat']").html('<div class="wechat_dialog"><header class="b">分享到微信朋友圈</header><div class="wechat-qrcode"></div><footer class="f1s c2">打开微信，点击底部的“发现”，<br />使用“扫一扫”即可将网页分享至朋友圈。</footer>');if(this.__qrcode_loaded){a.on("click",d);return}this.getScript("/js/lib/qrcode.min.js",function(){e.__qrcode_loaded=true;a.on("click",d)})};jw.chooseTab=function(a,f,e){var c=$(a),d=c.find("li"),b=c.find(f);d.eq(0).addClass("on");b.eq(0).addClass("on");d.on("click",function(){var h=$(this),g=h.index();h.addClass("on").siblings("li").removeClass("on");b.eq(g).addClass("on").siblings("div").removeClass("on");e&&e.call(b,g)})};(function(d){var e=d("#nav"),b,c,a;if(!e.length){return}b=location.pathname.split("/")[1];c=e.find("a");if(!b||b==="index.html"){c.eq(0).addClass("on")}else{b="/"+b;b+="/";a=c.length;while(--a>0){if(c[a].href.indexOf(b)!==-1){c.eq(a).addClass("on");break}}}(function(){var g='<a class="i-wechat" href="javascript:;" target="_blank">            <img src="/img/rightCode.png" alt=""></a>            <a class="i-weibo" target="_blank" href="http://weibo.com/p/1006061744205384/home?from=page_100606&mod=TAB&is_all=1"></a>            <a class="i-tieba" target="_blank" href="http://tieba.baidu.com/f?ie=utf-8&kw=%E7%BB%9D%E5%91%B3%E7%BE%8E%E9%A3%9F"></a>            <a class="fj goTop" href="#">&#xE002;</a>';var h=document.createElement("div");h.className="aside";h.innerHTML=g;var f=d(".goTop",h);f.on("click",function(i){i.preventDefault();d("body,html").stop(true,true).animate({scrollTop:0},500)});d(window).on("scroll",function(){if(d(this).scrollTop()>100){f.addClass("on")}else{f.removeClass("on")}}).trigger("scroll");document.body.appendChild(h)})()})(jQuery);var _hmt=_hmt||[];jw.getScript("https://hm.baidu.com/hm.js?bf8b99dbb9e5f782e89147fecde9e3af");